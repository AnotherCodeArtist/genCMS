(function(e,t){t.bindingHandlers["wysiwyg"]={extensions:{},init:function(n,r,i,s,o){if(!t.isWriteableObservable(r())){throw"valueAccessor must be writeable and observable"}var u=i.has("wysiwygConfig")?i.get("wysiwygConfig"):{},a=i.has("wysiwygExtensions")?i.get("wysiwygExtensions"):[],f={browser_spellcheck:e(n).prop("spellcheck"),theme:"modern",plugins:["link","paste","emoticons","textcolor","table","code","image"],toolbar1:"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | code",toolbar2:" forecolor backcolor | table | emoticons",menubar:false,resize:true,setup:function(e){e.on("change keyup nodechange",function(n){r()(e.getContent());for(var s in a){t.bindingHandlers["wysiwyg"].extensions[a[s]](e,n,i,o)}})}};f=e.extend(f,u);e(n).text(r()()).tinymce(f);t.utils.domNodeDisposal.addDisposeCallback(n,function(){e(n).tinymce().remove()})},update:function(e,n,r,i,s){return t.bindingHandlers["value"].update(e,n,r,i,s)}}})(jQuery,ko)